---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Anders.
--- DateTime: 07.12.2019 19.47
---
local lu = require('luaunit')

loadfile('build_utils/wow_api/functions.lua')()
loadfile('wow_functions.lua')()
loadfile('build_utils/utils/load_toc.lua')('../BM-utils.toc')
---@type BMUtils
local addon =_G['AddonTable']

_G['test'] = {}
local test = _G['test']
test.utils = addon


function test:testGetCharacterInfo()
    local character, realm = self.utils.getCharacterInfo()
    lu.assertEquals(character, 'Quadduo')
    lu.assertEquals(realm, 'MirageRaceway')

    character, realm = self.utils.getCharacterInfo('Quadgnome')
    lu.assertEquals(character, 'Quadgnome')
    lu.assertEquals(realm, 'MirageRaceway')
end

function test:testGetCharacterString()
    local string = self.utils.getCharacterString()
    lu.assertEquals(string, 'Quadduo-MirageRaceway')
    string = self.utils.getCharacterString('Quadgnome')
    lu.assertEquals(string, 'Quadgnome-MirageRaceway')
end

function test:testColor_to_rgb()
    local r, g, b = self.utils:ColorToRGB({ r = 0.25, g = 0.75, b = 0.25 })
    lu.assertEquals(r, 63.75)
    lu.assertEquals(g, 191.25)
    lu.assertEquals(b, 63.75)
end

function test:testGenerateHexColor()
    local hex = self.utils:GenerateHexColor(63.75, 191.25, 63.75)
    lu.assertEquals(hex, 'ff3fbf3f')
end

function test:testColor_to_hex()
    local hex = self.utils:ColorToHex({ r = 0.25, g = 0.75, b = 0.25 })
    lu.assertEquals(hex, 'ff3fbf3f')
end

function test:testDifficultyNameToNum()
    lu.assertEquals(3, self.utils.difficultyNameToNum('medium'))
end

function test:testDifficultyNumToName()
    lu.assertEquals('medium', self.utils.difficultyNumToName(3))
end

function test:testSplitCharacterString()
    local character, realm = self.utils.splitCharacterString('Quadduo-Mirage Raceway')
    lu.assertEquals(character, 'Quadduo')
    lu.assertEquals(realm, 'Mirage Raceway')
end

function test:testItemIdFromLink()
    local id = self.utils.itemIdFromLink('|cffffffff|Hitem:2318::::::::25:::::::|h[Light Leather]|h|r')
    lu.assertEquals(id, 2318)
end

function test:testItemNameFromLink()
    local id = self.utils.itemNameFromLink('|cffffffff|Hitem:2318::::::::25:::::::|h[Light Leather]|h|r')
    lu.assertEquals(id, 'Light Leather')
end

function test:testDifficultyColor()
    local color = self.utils.difficultyColor("optimal")
    lu.assertEquals(color, { r = 1.00, g = 0.50, b = 0.25, font = "GameFontNormalLeftOrange" })
    local mixin = self.utils.difficultyColor("optimal", true)
    local r, g, b = mixin:GetRGB()
    lu.assertEquals(r, 1.00)
    lu.assertEquals(g, 0.50)
    lu.assertEquals(b, 0.25)
end

function test:testDifficultyColorText()
    local text = self.utils.difficultyColorText('colored', 'medium')
    lu.assertEquals(text, '|cffffff00colored|r')
end

function test:testCastSpellById()
    local spell = self.utils.CastSpellById(186257)
    lu.assertEquals(spell, 'Aspect of the Cheetah')
end

function test:gettext()
    lu.assertNotNil(self.utils.gettext)
end

os.exit(lu.LuaUnit.run())

